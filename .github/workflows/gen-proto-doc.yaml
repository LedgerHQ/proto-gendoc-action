on: [push]
jobs:
  generate-doc:
    runs-on: ubuntu-latest
    name: Generate documentation
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Checkout Google APIs
        uses: actions/checkout@v2
        with:
          repository: googleapis/googleapis
          path: _deps/proto/googleapis
      - name: Generate documentation
        uses: ./
        with:
          api-name: Route Guide API
          api-version: 1.0.0
          proto-root-dir: examples/
          proto-include-dir: _deps/proto/googleapis
      - name: Print documentation
        run: cat openapi.yaml
